<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pingora • Professional Internet Speed Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Ookla Speedtest Web SDK (requires license key) -->
    <script src="https://cdn.speedtestcustom.com/sdk/v2.1.1/speedtest.js"></script>
    <style>
        :root {
            --primary: #0066ff;
            --primary-dark: #0052d4;
            --secondary: #00c6ff;
            --accent: #7e57c2;
            --dark: #0a0e17;
            --darker: #050811;
            --card: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
            --text-muted: #a0aec0;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --radius: 16px;
            --shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header & Navigation */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 0;
            border-bottom: 1px solid var(--glass-border);
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            background: rgba(10, 14, 23, 0.8);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 800;
            box-shadow: 0 8px 32px rgba(0, 102, 255, 0.3);
        }

        .logo-text {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 32px;
        }

        nav a {
            color: var(--text-muted);
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            padding: 10px 20px;
            border-radius: 10px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid transparent;
        }

        nav a:hover, nav a.active {
            color: var(--text);
            background: var(--glass);
            border-color: var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .nav-icon { font-size: 18px; }

        /* Main Content */
        .page { display: none; animation: fadeIn 0.4s ease; }
        .page.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 48px;
            text-align: center;
        }

        .page-header h1 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 16px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-header p {
            font-size: 18px;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Speed Test Page */
        .test-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 48px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            margin-bottom: 48px;
            position: relative;
            overflow: hidden;
        }

        .test-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(0, 102, 255, 0.1) 50%, 
                transparent 70%);
            animation: shine 8s infinite linear;
            z-index: 0;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .visualization {
            height: 280px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius);
            margin-bottom: 48px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            z-index: 1;
        }

        .speed-gauge {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0;
            background: linear-gradient(to top, var(--primary), var(--secondary));
            transition: height 0.5s ease;
            opacity: 0.7;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
            z-index: 1;
            position: relative;
        }

        .result-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 32px;
            text-align: center;
            border: 1px solid var(--glass-border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        .result-card.active {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0, 102, 255, 0.3);
            border-color: var(--primary);
        }

        .result-card h3 {
            font-size: 16px;
            color: var(--text-muted);
            margin-bottom: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-value {
            font-size: 48px;
            font-weight: 800;
            line-height: 1;
            margin-bottom: 8px;
            font-variant-numeric: tabular-nums;
        }

        .result-unit {
            font-size: 16px;
            color: var(--text-muted);
        }

        #ping .result-value { color: var(--success); }
        #download .result-value { color: var(--primary); }
        #upload .result-value { color: var(--secondary); }
        #jitter .result-value { color: var(--accent); }

        .progress-container {
            margin: 48px 0;
            z-index: 1;
            position: relative;
        }

        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 12px;
            border: 1px solid var(--glass-border);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: var(--text-muted);
        }

        .test-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            z-index: 1;
            position: relative;
        }

        .btn {
            padding: 20px 40px;
            border: none;
            border-radius: var(--radius);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            min-width: 220px;
            backdrop-filter: blur(10px);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 102, 255, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0, 102, 255, 0.6);
        }

        .btn-secondary {
            background: var(--glass);
            color: var(--text);
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-4px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Results Page */
        .history-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 32px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
        }

        .history-list {
            list-style: none;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid var(--glass-border);
            transition: var(--transition);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .history-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(8px);
        }

        .history-info h4 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--text);
        }

        .history-info p {
            color: var(--text-muted);
            font-size: 14px;
        }

        .history-stats {
            display: flex;
            gap: 32px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            display: block;
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-muted);
        }

        .stat-download .stat-value { color: var(--primary); }
        .stat-upload .stat-value { color: var(--secondary); }
        .stat-ping .stat-value { color: var(--success); }

        /* Servers Page */
        .servers-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 32px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
        }

        .server-list {
            list-style: none;
        }

        .server-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid var(--glass-border);
            transition: var(--transition);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            margin-bottom: 16px;
            cursor: pointer;
        }

        .server-item:hover, .server-item.selected {
            background: rgba(0, 102, 255, 0.1);
            border-color: var(--primary);
        }

        .server-info h4 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--text);
        }

        .server-info p {
            color: var(--text-muted);
            font-size: 14px;
        }

        .server-stats {
            display: flex;
            gap: 24px;
            text-align: center;
        }

        .server-ping {
            font-size: 24px;
            font-weight: 700;
            color: var(--success);
        }

        .server-ping-label {
            font-size: 14px;
            color: var(--text-muted);
        }

        .server-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--success);
            box-shadow: 0 0 10px var(--success);
        }

        /* Settings Page */
        .settings-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 48px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
        }

        .settings-group {
            margin-bottom: 48px;
        }

        .settings-group h3 {
            font-size: 24px;
            margin-bottom: 24px;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .settings-group h3 i {
            color: var(--primary);
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid var(--glass-border);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .setting-info h4 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--text);
        }

        .setting-info p {
            color: var(--text-muted);
            font-size: 14px;
            max-width: 600px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 34px;
            transition: var(--transition);
            border: 1px solid var(--glass-border);
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background: white;
            border-radius: 50%;
            transition: var(--transition);
        }

        input:checked + .toggle-slider {
            background: var(--primary);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }

        select {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 16px;
            min-width: 200px;
            backdrop-filter: blur(10px);
        }

        /* Help Page */
        .help-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: var(--radius);
            padding: 48px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
        }

        .faq-list {
            margin-bottom: 48px;
        }

        .faq-item {
            margin-bottom: 24px;
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            overflow: hidden;
            background: rgba(0, 0, 0, 0.2);
        }

        .faq-question {
            padding: 24px;
            background: rgba(255, 255, 255, 0.03);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-answer {
            padding: 0 24px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-answer.active {
            padding: 24px;
            max-height: 500px;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 32px;
        }

        .contact-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--radius);
            padding: 32px;
            text-align: center;
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }

        .contact-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .contact-card i {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .contact-card h4 {
            font-size: 20px;
            margin-bottom: 12px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 48px 0;
            margin-top: 80px;
            border-top: 1px solid var(--glass-border);
            color: var(--text-muted);
            backdrop-filter: blur(10px);
            background: rgba(10, 14, 23, 0.8);
        }

        footer p {
            margin-bottom: 8px;
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 24px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
                gap: 16px;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .test-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .history-stats,
            .server-stats {
                flex-direction: column;
                gap: 16px;
            }
            
            .setting-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">P</div>
                <div class="logo-text">Pingora</div>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="speed-test">
                        <i class="nav-icon fas fa-bolt"></i> Speed Test
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="results">
                        <i class="nav-icon fas fa-chart-bar"></i> Results
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="servers">
                        <i class="nav-icon fas fa-server"></i> Servers
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="settings">
                        <i class="nav-icon fas fa-cog"></i> Settings
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="help">
                        <i class="nav-icon fas fa-question-circle"></i> Help
                    </a></li>
                </ul>
            </nav>
        </header>

        <main>
            <!-- Speed Test Page -->
            <section id="speed-test" class="page active">
                <div class="page-header">
                    <h1>Internet Speed Test</h1>
                    <p>Measure your download, upload, and latency using Ookla's industry-standard technology</p>
                </div>

                <div class="test-container">
                    <div class="visualization">
                        <div class="speed-gauge" id="speed-gauge"></div>
                    </div>

                    <div class="results-grid">
                        <div class="result-card" id="ping">
                            <h3>PING</h3>
                            <div class="result-value">--</div>
                            <div class="result-unit">ms</div>
                        </div>
                        <div class="result-card" id="download">
                            <h3>DOWNLOAD</h3>
                            <div class="result-value">--</div>
                            <div class="result-unit">Mbps</div>
                        </div>
                        <div class="result-card" id="upload">
                            <h3>UPLOAD</h3>
                            <div class="result-value">--</div>
                            <div class="result-unit">Mbps</div>
                        </div>
                        <div class="result-card" id="jitter">
                            <h3>JITTER</h3>
                            <div class="result-value">--</div>
                            <div class="result-unit">ms</div>
                        </div>
                    </div>

                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-text">
                            <span id="progress-status">Ready to start test</span>
                            <span id="progress-percent">0%</span>
                        </div>
                    </div>

                    <div class="test-controls">
                        <button class="btn btn-primary" id="start-test">
                            <i class="fas fa-play"></i> Start Speed Test
                        </button>
                        <button class="btn btn-secondary" id="stop-test" disabled>
                            <i class="fas fa-stop"></i> Stop Test
                        </button>
                    </div>
                </div>
            </section>

            <!-- Results Page -->
            <section id="results" class="page">
                <div class="page-header">
                    <h1>Test History</h1>
                    <p>View your previous speed test results and performance trends</p>
                </div>

                <div class="history-container">
                    <div class="history-actions" style="margin-bottom: 24px; display: flex; gap: 16px;">
                        <button class="btn btn-secondary" id="clear-history" style="min-width: auto; padding: 12px 24px;">
                            <i class="fas fa-trash"></i> Clear History
                        </button>
                        <button class="btn btn-secondary" id="export-history" style="min-width: auto; padding: 12px 24px;">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                    </div>
                    <ul class="history-list" id="history-list">
                        <!-- History items will be dynamically added here -->
                    </ul>
                </div>
            </section>

            <!-- Servers Page -->
            <section id="servers" class="page">
                <div class="page-header">
                    <h1>Test Servers</h1>
                    <p>Choose from thousands of Ookla servers worldwide for accurate testing</p>
                </div>

                <div class="servers-container">
                    <div class="server-actions" style="margin-bottom: 24px; display: flex; gap: 16px; align-items: center;">
                        <button class="btn btn-secondary" id="refresh-servers" style="min-width: auto; padding: 12px 24px;">
                            <i class="fas fa-sync-alt"></i> Refresh Servers
                        </button>
                        <span id="server-count" style="color: var(--text-muted);">Loading servers...</span>
                    </div>
                    <ul class="server-list" id="server-list">
                        <!-- Server items will be dynamically added here -->
                    </ul>
                </div>
            </section>

            <!-- Settings Page -->
            <section id="settings" class="page">
                <div class="page-header">
                    <h1>Settings</h1>
                    <p>Customize your speed test experience and preferences</p>
                </div>

                <div class="settings-container">
                    <div class="settings-group">
                        <h3><i class="fas fa-sliders-h"></i> Test Configuration</h3>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Enable Jitter Measurement</h4>
                                <p>Measure network jitter during speed tests</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="jitter-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Test Duration</h4>
                                <p>Duration of download and upload tests</p>
                            </div>
                            <select id="test-duration">
                                <option value="5000">5 seconds (Quick)</option>
                                <option value="10000" selected>10 seconds (Standard)</option>
                                <option value="15000">15 seconds (Detailed)</option>
                                <option value="20000">20 seconds (Comprehensive)</option>
                            </select>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Measurement Units</h4>
                                <p>Display speeds in Mbps or MB/s</p>
                            </div>
                            <select id="measurement-units">
                                <option value="Mbps" selected>Mbps (Megabits per second)</option>
                                <option value="MBps">MB/s (Megabytes per second)</option>
                            </select>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Auto-Select Best Server</h4>
                                <p>Automatically select the server with lowest latency</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoselect-server" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3><i class="fas fa-bell"></i> Notifications</h3>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Test Completion Alerts</h4>
                                <p>Show notification when speed test finishes</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="notifications-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Auto-Save Results</h4>
                                <p>Automatically save all test results to history</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autosave-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Result Sharing</h4>
                                <p>Allow sharing test results on social media</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="sharing-toggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3><i class="fas fa-paint-brush"></i> Appearance</h3>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Theme</h4>
                                <p>Choose between light and dark mode</p>
                            </div>
                            <select id="theme-selector">
                                <option value="dark" selected>Dark Theme</option>
                                <option value="light">Light Theme</option>
                                <option value="auto">Auto (System)</option>
                            </select>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Animation Effects</h4>
                                <p>Enable smooth animations and visual effects</p>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="animations-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Glass Effect Intensity</h4>
                                <p>Adjust the transparency of glass elements</p>
                            </div>
                            <select id="glass-intensity">
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3><i class="fas fa-database"></i> Data Management</h3>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Clear All Data</h4>
                                <p>Remove all saved test results and settings</p>
                            </div>
                            <button class="btn btn-secondary" id="clear-all-data" style="min-width: auto; padding: 12px 24px;">
                                <i class="fas fa-trash"></i> Clear All
                            </button>
                        </div>

                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Export All Data</h4>
                                <p>Export all test results as JSON file</p>
                            </div>
                            <button class="btn btn-secondary" id="export-all-data" style="min-width: auto; padding: 12px 24px;">
                                <i class="fas fa-download"></i> Export JSON
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Help Page -->
            <section id="help" class="page">
                <div class="page-header">
                    <h1>Help & Support</h1>
                    <p>Get assistance and learn how to use Pingora Speed Test</p>
                </div>

                <div class="help-container">
                    <div class="faq-list">
                        <h3 style="margin-bottom: 32px;">Frequently Asked Questions</h3>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                How does the speed test work?
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Pingora uses Ookla's Speedtest Web SDK to measure your internet performance. The SDK downloads and uploads data to Ookla's global server network, calculating your latency (ping), download speed, upload speed, and jitter. The test uses multiple threads to simulate real-world usage and provides accurate results based on Ookla's industry-standard methodology.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                Why are my results different from other speed tests?
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Speed test results can vary due to several factors: server location and load, network congestion, time of day, browser extensions, VPN usage, and the testing methodology itself. Pingora uses Ookla's network which has servers in 300+ cities worldwide, ensuring consistent and reliable measurements.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                How can I improve my speed test results?
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>1. Use a wired Ethernet connection instead of Wi-Fi for more stable results<br>
                                2. Close other applications and browser tabs that may use bandwidth<br>
                                3. Disable VPNs or proxy services during testing<br>
                                4. Test at different times of day to identify congestion periods<br>
                                5. Restart your router and modem before testing<br>
                                6. Select a server closer to your physical location</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                Is my data being collected or shared?
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>All test results are stored locally in your browser using localStorage. We don't collect or transmit any personal data. Ookla may collect anonymous performance data as described in their privacy policy. You can disable auto-save in settings to prevent local storage of results.</p>
                            </div>
                        </div>

                        <div class="faq-item">
                            <div class="faq-question">
                                Why do I need a license key for Ookla SDK?
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>The Ookla Speedtest Web SDK requires a commercial license for production use. The license provides access to Ookla's global server network, ongoing updates, technical support, and ensures accurate measurements. For personal or evaluation use, you can contact Ookla for trial licensing options.</p>
                            </div>
                        </div>
                    </div>

                    <div class="contact-info">
                        <div class="contact-card">
                            <i class="fas fa-book"></i>
                            <h4>Documentation</h4>
                            <p>Read the full documentation and API reference for advanced usage</p>
                            <button class="btn btn-secondary" style="margin-top: 16px; width: 100%;">
                                <i class="fas fa-external-link-alt"></i> View Docs
                            </button>
                        </div>

                        <div class="contact-card">
                            <i class="fas fa-bug"></i>
                            <h4>Report Issue</h4>
                            <p>Found a bug or have a feature request? Let us know on GitHub</p>
                            <button class="btn btn-secondary" style="margin-top: 16px; width: 100%;">
                                <i class="fab fa-github"></i> GitHub Issues
                            </button>
                        </div>

                        <div class="contact-card">
                            <i class="fas fa-envelope"></i>
                            <h4>Contact Support</h4>
                            <p>Email us at support@pingora.example.com for direct assistance</p>
                            <button class="btn btn-secondary" style="margin-top: 16px; width: 100%;">
                                <i class="fas fa-paper-plane"></i> Send Email
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Pingora Speed Test v3.0 • Powered by Ookla Speedtest Web SDK • <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a> | <a href="#">License Information</a></p>
            <p>© 2025 Pingora Networks. All rights reserved. Ookla and Speedtest are trademarks of Ookla, LLC.</p>
        </footer>
    </div>

    <script>
        // State management
        const state = {
            testInProgress: false,
            currentTest: null,
            history: JSON.parse(localStorage.getItem('pingora_history')) || [],
            settings: JSON.parse(localStorage.getItem('pingora_settings')) || {
                jitter: true,
                duration: 10000,
                units: 'Mbps',
                autoselect: true,
                notifications: true,
                autosave: true,
                sharing: false,
                theme: 'dark',
                animations: true,
                glass: 'medium'
            },
            servers: [],
            selectedServer: null
        };

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const startBtn = document.getElementById('start-test');
        const stopBtn = document.getElementById('stop-test');
        const progressFill = document.getElementById('progress-fill');
        const progressStatus = document.getElementById('progress-status');
        const progressPercent = document.getElementById('progress-percent');
        const speedGauge = document.getElementById('speed-gauge');
        const historyList = document.getElementById('history-list');
        const serverList = document.getElementById('server-list');
        const serverCount = document.getElementById('server-count');

        // Result elements
        const pingEl = document.querySelector('#ping .result-value');
        const downloadEl = document.querySelector('#download .result-value');
        const uploadEl = document.querySelector('#upload .result-value');
        const jitterEl = document.querySelector('#jitter .result-value');

        // Settings elements
        const jitterToggle = document.getElementById('jitter-toggle');
        const testDuration = document.getElementById('test-duration');
        const measurementUnits = document.getElementById('measurement-units');
        const autoselectServer = document.getElementById('autoselect-server');
        const notificationsToggle = document.getElementById('notifications-toggle');
        const autosaveToggle = document.getElementById('autosave-toggle');
        const sharingToggle = document.getElementById('sharing-toggle');
        const themeSelector = document.getElementById('theme-selector');
        const animationsToggle = document.getElementById('animations-toggle');
        const glassIntensity = document.getElementById('glass-intensity');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Load settings
            loadSettings();
            
            // Load history
            renderHistory();
            
            // Load servers
            loadServers();
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize navigation
            initNavigation();
            
            // Initialize FAQ accordion
            initFAQ();
            
            // Request notification permission
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        });

        // Navigation
        function initNavigation() {
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.dataset.page;
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show selected page
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById(pageId).classList.add('active');
                    
                    // Update page title
                    document.title = `Pingora • ${this.textContent.trim()}`;
                });
            });
        }

        // Settings Management
        function loadSettings() {
            jitterToggle.checked = state.settings.jitter;
            testDuration.value = state.settings.duration;
            measurementUnits.value = state.settings.units;
            autoselectServer.checked = state.settings.autoselect;
            notificationsToggle.checked = state.settings.notifications;
            autosaveToggle.checked = state.settings.autosave;
            sharingToggle.checked = state.settings.sharing;
            themeSelector.value = state.settings.theme;
            animationsToggle.checked = state.settings.animations;
            glassIntensity.value = state.settings.glass;
            
            // Apply theme
            applyTheme();
        }

        function saveSettings() {
            state.settings = {
                jitter: jitterToggle.checked,
                duration: parseInt(testDuration.value),
                units: measurementUnits.value,
                autoselect: autoselectServer.checked,
                notifications: notificationsToggle.checked,
                autosave: autosaveToggle.checked,
                sharing: sharingToggle.checked,
                theme: themeSelector.value,
                animations: animationsToggle.checked,
                glass: glassIntensity.value
            };
            
            localStorage.setItem('pingora_settings', JSON.stringify(state.settings));
            applyTheme();
        }

        function applyTheme() {
            document.documentElement.setAttribute('data-theme', state.settings.theme);
            
            // Apply glass intensity
            const intensity = state.settings.glass;
            const opacity = intensity === 'low' ? 0.02 : intensity === 'medium' ? 0.05 : 0.1;
            document.documentElement.style.setProperty('--glass', `rgba(255, 255, 255, ${opacity})`);
            
            // Toggle animations
            if (!state.settings.animations) {
                document.documentElement.style.setProperty('--transition', 'none');
            } else {
                document.documentElement.style.setProperty('--transition', 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)');
            }
        }

        // Event Listeners
        function setupEventListeners() {
            // Speed test controls
            startBtn.addEventListener('click', startSpeedTest);
            stopBtn.addEventListener('click', stopSpeedTest);
            
            // Settings changes
            jitterToggle.addEventListener('change', saveSettings);
            testDuration.addEventListener('change', saveSettings);
            measurementUnits.addEventListener('change', saveSettings);
            autoselectServer.addEventListener('change', saveSettings);
            notificationsToggle.addEventListener('change', saveSettings);
            autosaveToggle.addEventListener('change', saveSettings);
            sharingToggle.addEventListener('change', saveSettings);
            themeSelector.addEventListener('change', saveSettings);
            animationsToggle.addEventListener('change', saveSettings);
            glassIntensity.addEventListener('change', saveSettings);
            
            // History actions
            document.getElementById('clear-history')?.addEventListener('click', clearHistory);
            document.getElementById('export-history')?.addEventListener('click', exportHistory);
            
            // Server actions
            document.getElementById('refresh-servers')?.addEventListener('click', loadServers);
            
            // Data management
            document.getElementById('clear-all-data')?.addEventListener('click', clearAllData);
            document.getElementById('export-all-data')?.addEventListener('click', exportAllData);
        }

        // FAQ Accordion
        function initFAQ() {
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    const isActive = answer.classList.contains('active');
                    
                    // Close all answers
                    document.querySelectorAll('.faq-answer').forEach(ans => {
                        ans.classList.remove('active');
                    });
                    
                    // Toggle current answer
                    if (!isActive) {
                        answer.classList.add('active');
                        this.querySelector('i').className = 'fas fa-chevron-up';
                    } else {
                        this.querySelector('i').className = 'fas fa-chevron-down';
                    }
                });
            });
        }

        // Speed Test with Ookla SDK
        async function startSpeedTest() {
            if (state.testInProgress) return;
            
            state.testInProgress = true;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            
            // Reset UI
            pingEl.textContent = '--';
            downloadEl.textContent = '--';
            uploadEl.textContent = '--';
            jitterEl.textContent = '--';
            progressFill.style.width = '0%';
            progressPercent.textContent = '0%';
            progressStatus.textContent = 'Initializing test...';
            speedGauge.style.height = '0%';
            
            // Reset active cards
            document.querySelectorAll('.result-card').forEach(card => {
                card.classList.remove('active');
            });
            
            try {
                // Check if Ookla SDK is available
                if (typeof window.Speedtest === 'undefined') {
                    throw new Error('Ookla Speedtest SDK not loaded. Please check your license key.');
                }
                
                // Configure test
                const config = {
                    // License key required for production use
                    // licenseKey: 'YOUR_LICENSE_KEY_HERE',
                    
                    // Test configuration
                    download: true,
                    upload: true,
                    latency: true,
                    jitter: state.settings.jitter,
                    
                    // Test duration
                    downloadDuration: state.settings.duration,
                    uploadDuration: state.settings.duration,
                    
                    // Server selection
                    autoServer: state.settings.autoselect,
                    serverId: state.selectedServer?.id,
                    
                    // Callbacks
                    onStart: function() {
                        progressStatus.textContent = 'Testing latency...';
                        document.getElementById('ping').classList.add('active');
                    },
                    
                    onDownload: function(progress, speed) {
                        progressStatus.textContent = 'Testing download speed...';
                        document.getElementById('ping').classList.remove('active');
                        document.getElementById('download').classList.add('active');
                        
                        // Update progress
                        const percent = Math.min(progress * 100, 100);
                        progressFill.style.width = `${percent}%`;
                        progressPercent.textContent = `${Math.round(percent)}%`;
                        
                        // Update speed gauge
                        const maxSpeed = 1000; // 1 Gbps max for visualization
                        const gaugeHeight = Math.min((speed / maxSpeed) * 100, 100);
                        speedGauge.style.height = `${gaugeHeight}%`;
                        
                        // Update download speed
                        if (state.settings.units === 'MBps') {
                            downloadEl.textContent = (speed / 8).toFixed(1);
                        } else {
                            downloadEl.textContent = speed.toFixed(1);
                        }
                    },
                    
                    onUpload: function(progress, speed) {
                        progressStatus.textContent = 'Testing upload speed...';
                        document.getElementById('download').classList.remove('active');
                        document.getElementById('upload').classList.add('active');
                        
                        // Update progress
                        const percent = 50 + (progress * 50);
                        progressFill.style.width = `${percent}%`;
                        progressPercent.textContent = `${Math.round(percent)}%`;
                        
                        // Update speed gauge (different color for upload)
                        speedGauge.style.background = 'linear-gradient(to top, var(--secondary), var(--accent))';
                        
                        // Update upload speed
                        if (state.settings.units === 'MBps') {
                            uploadEl.textContent = (speed / 8).toFixed(1);
                        } else {
                            uploadEl.textContent = speed.toFixed(1);
                        }
                    },
                    
                    onLatency: function(latency, jitter) {
                        pingEl.textContent = latency.toFixed(1);
                        if (state.settings.jitter) {
                            jitterEl.textContent = jitter.toFixed(1);
                        }
                    },
                    
                    onComplete: function(results) {
                        progressFill.style.width = '100%';
                        progressPercent.textContent = '100%';
                        progressStatus.textContent = 'Test complete!';
                        
                        // Reset speed gauge
                        speedGauge.style.height = '0%';
                        speedGauge.style.background = 'linear-gradient(to top, var(--primary), var(--secondary))';
                        
                        // Save to history
                        if (state.settings.autosave) {
                            saveToHistory({
                                timestamp: new Date().toISOString(),
                                ping: results.latency,
                                download: results.download,
                                upload: results.upload,
                                jitter: results.jitter,
                                server: results.serverName,
                                isp: results.isp,
                                ip: results.ip
                            });
                        }
                        
                        // Show notification
                        if (state.settings.notifications && Notification.permission === 'granted') {
                            new Notification('Pingora Speed Test Complete', {
                                body: `Download: ${results.download.toFixed(1)} Mbps, Upload: ${results.upload.toFixed(1)} Mbps, Ping: ${results.latency.toFixed(1)} ms`
                            });
                        }
                        
                        // Reset state
                        state.testInProgress = false;
                        startBtn.disabled = false;
                        stopBtn.disabled = true;
                    },
                    
                    onError: function(error) {
                        progressStatus.textContent = `Error: ${error.message}`;
                        state.testInProgress = false;
                        startBtn.disabled = false;
                        stopBtn.disabled = true;
                    }
                };
                
                // Initialize and start test
                state.currentTest = new window.Speedtest(config);
                state.currentTest.start();
                
            } catch (error) {
                console.error('Speed test error:', error);
                
                // Fallback to simulation if SDK not available
                progressStatus.textContent = 'SDK not available - Running simulation...';
                simulateSpeedTest();
            }
        }

        function stopSpeedTest() {
            if (state.currentTest && typeof state.currentTest.stop === 'function') {
                state.currentTest.stop();
            }
            state.testInProgress = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            progressStatus.textContent = 'Test stopped';
            speedGauge.style.height = '0%';
        }

        // Simulation fallback (for demo purposes)
        function simulateSpeedTest() {
            let progress = 0;
            const interval = setInterval(() => {
                if (!state.testInProgress) {
                    clearInterval(interval);
                    return;
                }
                
                progress += 2;
                progressFill.style.width = `${progress}%`;
                progressPercent.textContent = `${progress}%`;
                
                // Simulate test stages
                if (progress < 20) {
                    progressStatus.textContent = 'Testing latency...';
                    document.getElementById('ping').classList.add('active');
                    if (progress >= 15) {
                        pingEl.textContent = (Math.random() * 20 + 5).toFixed(1);
                        jitterEl.textContent = (Math.random() * 5 + 1).toFixed(1);
                    }
                } else if (progress < 60) {
                    progressStatus.textContent = 'Testing download speed...';
                    document.getElementById('ping').classList.remove('active');
                    document.getElementById('download').classList.add('active');
                    
                    // Simulate download speed
                    const downloadSpeed = 100 + Math.random() * 400;
                    downloadEl.textContent = downloadSpeed.toFixed(1);
                    
                    // Update speed gauge
                    speedGauge.style.height = `${(progress - 20) / 40 * 100}%`;
                } else if (progress < 100) {
                    progressStatus.textContent = 'Testing upload speed...';
                    document.getElementById('download').classList.remove('active');
                    document.getElementById('upload').classList.add('active');
                    
                    // Simulate upload speed
                    const uploadSpeed = 20 + Math.random() * 100;
                    uploadEl.textContent = uploadSpeed.toFixed(1);
                    
                    // Change gauge color for upload
                    speedGauge.style.background = 'linear-gradient(to top, var(--secondary), var(--accent))';
                } else {
                    clearInterval(interval);
                    progressStatus.textContent = 'Test complete!';
                    
                    // Save to history
                    if (state.settings.autosave) {
                        saveToHistory({
                            timestamp: new Date().toISOString(),
                            ping: parseFloat(pingEl.textContent),
                            download: parseFloat(downloadEl.textContent),
                            upload: parseFloat(uploadEl.textContent),
                            jitter: parseFloat(jitterEl.textContent),
                            server: 'Simulation Server',
                            isp: 'Demo ISP',
                            ip: '192.168.1.1'
                        });
                    }
                    
                    state.testInProgress = false;
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                }
            }, 100);
        }

        // History Management
        function saveToHistory(result) {
            state.history.unshift(result);
            
            // Keep only last 50 results
            if (state.history.length > 50) {
                state.history.pop();
            }
            
            localStorage.setItem('pingora_history', JSON.stringify(state.history));
            renderHistory();
        }

        function renderHistory() {
            if (!historyList) return;
            
            historyList.innerHTML = '';
            
            if (state.history.length === 0) {
                historyList.innerHTML = `
                    <li class="history-item" style="text-align: center; color: var(--text-muted); padding: 48px;">
                        <i class="fas fa-history" style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                        <h4>No test results yet</h4>
                        <p>Run your first speed test to see results here</p>
                    </li>
                `;
                return;
            }
            
            state.history.forEach((test, index) => {
                const date = new Date(test.timestamp);
                const formattedDate = date.toLocaleDateString('en-US', {
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                const item = document.createElement('li');
                item.className = 'history-item';
                item.innerHTML = `
                    <div class="history-info">
                        <h4>Test #${state.history.length - index}</h4>
                        <p>${formattedDate} • ${test.server || 'Unknown Server'}</p>
                        <p style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">
                            ${test.isp || 'Unknown ISP'} • ${test.ip || 'Unknown IP'}
                        </p>
                    </div>
                    <div class="history-stats">
                        <div class="stat-download">
                            <span class="stat-value">${test.download.toFixed(1)}</span>
                            <span class="stat-label">Download</span>
                        </div>
                        <div class="stat-upload">
                            <span class="stat-value">${test.upload.toFixed(1)}</span>
                            <span class="stat-label">Upload</span>
                        </div>
                        <div class="stat-ping">
                            <span class="stat-value">${test.ping.toFixed(1)}</span>
                            <span class="stat-label">Ping</span>
                        </div>
                    </div>
                `;
                historyList.appendChild(item);
            });
        }

        function clearHistory() {
            if (confirm('Are you sure you want to clear all test history? This action cannot be undone.')) {
                state.history = [];
                localStorage.removeItem('pingora_history');
                renderHistory();
            }
        }

        function exportHistory() {
            const csv = ['Timestamp,Download (Mbps),Upload (Mbps),Ping (ms),Jitter (ms),Server,ISP,IP'];
            
            state.history.forEach(test => {
                csv.push(`"${test.timestamp}",${test.download},${test.upload},${test.ping},${test.jitter || ''},"${test.server || ''}","${test.isp || ''}","${test.ip || ''}"`);
            });
            
            const blob = new Blob([csv.join('\n')], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `pingora-history-${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Server Management
        function loadServers() {
            // Simulated server list (in production, this would come from Ookla API)
            state.servers = [
                { id: 1, name: 'New York, USA', location: 'New York', country: 'US', ping: 12, distance: 0, status: 'online' },
                { id: 2, name: 'London, UK', location: 'London', country: 'GB', ping: 28, distance: 3500, status: 'online' },
                { id: 3, name: 'Tokyo, Japan', location: 'Tokyo', country: 'JP', ping: 180, distance: 10800, status: 'online' },
                { id: 4, name: 'Sydney, Australia', location: 'Sydney', country: 'AU', ping: 220, distance: 16000, status: 'online' },
                { id: 5, name: 'Frankfurt, Germany', location: 'Frankfurt', country: 'DE', ping: 35, distance: 6500, status: 'online' },
                { id: 6, name: 'Singapore', location: 'Singapore', country: 'SG', ping: 150, distance: 15300, status: 'online' },
                { id: 7, name: 'São Paulo, Brazil', location: 'São Paulo', country: 'BR', ping: 120, distance: 7800, status: 'online' },
                { id: 8, name: 'Mumbai, India', location: 'Mumbai', country: 'IN', ping: 190, distance: 12500, status: 'online' }
            ];
            
            renderServers();
        }

        function renderServers() {
            if (!serverList) return;
            
            serverList.innerHTML = '';
            serverCount.textContent = `${state.servers.length} servers available`;
            
            state.servers.forEach(server => {
                const item = document.createElement('li');
                item.className = `server-item ${server.id === state.selectedServer?.id ? 'selected' : ''}`;
                item.innerHTML = `
                    <div class="server-info">
                        <h4>${server.name}</h4>
                        <p>${server.location}, ${server.country} • ${server.distance.toLocaleString()} km</p>
                    </div>
                    <div class="server-stats">
                        <div>
                            <div class="server-ping">${server.ping} ms</div>
                            <div class="server-ping-label">Ping</div>
                        </div>
                        <div class="server-status"></div>
                    </div>
                `;
                
                item.addEventListener('click', () => {
                    state.selectedServer = server;
                    renderServers();
                });
                
                serverList.appendChild(item);
            });
        }

        // Data Management
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data? This will remove all test results and reset settings to defaults. This action cannot be undone.')) {
                localStorage.clear();
                state.history = [];
                state.settings = {
                    jitter: true,
                    duration: 10000,
                    units: 'Mbps',
                    autoselect: true,
                    notifications: true,
                    autosave: true,
                    sharing: false,
                    theme: 'dark',
                    animations: true,
                    glass: 'medium'
                };
                loadSettings();
                renderHistory();
                alert('All data has been cleared.');
            }
        }

        function exportAllData() {
            const data = {
                settings: state.settings,
                history: state.history,
                servers: state.servers,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `pingora-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
